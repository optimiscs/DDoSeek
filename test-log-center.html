<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日志中心测试</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .container { padding: 20px; }
        .modern-table { width: 100%; border-collapse: collapse; }
        .modern-table th, .modern-table td { padding: 12px; border: 1px solid #e2e8f0; text-align: left; }
        .modern-table th { background: #f8fafc; font-weight: 600; }
        .log-level-badge { display: inline-block; padding: 4px 8px; border-radius: 12px; font-size: 10px; font-weight: 700; }
        .log-level-badge.info { background: #3182ce; color: white; }
        .log-level-badge.warn { background: #ed8936; color: white; }
        .log-level-badge.error { background: #e53e3e; color: white; }
        .log-level-badge.debug { background: #805ad5; color: white; }
        .log-level-badge.success { background: #38a169; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>日志中心测试</h1>
        <table class="modern-table" id="logsTable">
            <thead>
                <tr>
                    <th>时间戳</th>
                    <th>级别</th>
                    <th>来源</th>
                    <th>日志内容</th>
                    <th>IP地址</th>
                </tr>
            </thead>
            <tbody id="logsTableBody">
                <!-- 动态生成内容 -->
            </tbody>
        </table>
    </div>

    <script>
        // 简化的日志数据
        const logsData = [
            { id: 1, timestamp: '14:35:22.123', level: 'INFO', sourceText: '防火墙系统', message: '允许HTTPS连接请求', ip: '192.168.1.10' },
            { id: 2, timestamp: '14:35:20.456', level: 'WARN', sourceText: 'DDoS检测引擎', message: '检测到异常流量模式', ip: '10.0.0.100' },
            { id: 3, timestamp: '14:35:18.789', level: 'ERROR', sourceText: '数据库服务', message: '连接池耗尽', ip: '192.168.1.100' }
        ];

        function updateLogTable() {
            const tbody = document.getElementById('logsTableBody');
            if (!tbody) {
                console.error('找不到表格tbody元素');
                return;
            }

            tbody.innerHTML = logsData.map(log => {
                const levelClass = log.level.toLowerCase();
                return `
                    <tr>
                        <td>${log.timestamp}</td>
                        <td><span class="log-level-badge ${levelClass}">${log.level}</span></td>
                        <td>${log.sourceText}</td>
                        <td>${log.message}</td>
                        <td>${log.ip}</td>
                    </tr>
                `;
            }).join('');
            
            console.log('表格渲染完成，行数：', tbody.children.length);
        }

        // 页面加载后初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('开始初始化测试页面...');
            updateLogTable();
        });
    </script>
</body>
</html> 