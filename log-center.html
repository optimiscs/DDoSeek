<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDosSeek - 智能日志中心</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 50%, #f7fafc 100%);
            color: #2d3748;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .top-navbar {
            height: 64px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
            color: #1890ff;
        }

        .logo i {
            margin-right: 12px;
            font-size: 24px;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 16px;
            color: #4a5568;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1890ff, #52c41a);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .sidebar {
            position: fixed;
            left: 0;
            top: 64px;
            bottom: 0;
            width: 240px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            padding: 24px 0;
            z-index: 999;
            transition: all 0.3s ease;
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin: 4px 16px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #4a5568;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background: rgba(24, 144, 255, 0.1);
            color: #1890ff;
        }

        .sidebar-menu i {
            width: 20px;
            margin-right: 12px;
            font-size: 16px;
        }

        .main-content {
            margin-left: 240px;
            margin-top: 64px;
            padding: 24px;
            min-height: calc(100vh - 64px);
        }

        .page-header {
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .log-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: rgba(56, 161, 105, 0.2);
            color: #38a169;
            animation: pulse 2s infinite;
        }

        .action-controls {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary { background: #3182ce; color: white; }
        .btn-success { background: #38a169; color: white; }
        .btn-warning { background: #d69e2e; color: white; }
        .btn-danger { background: #e53e3e; color: white; }

        .btn-primary:hover { background: #2c5282; }
        .btn-success:hover { background: #2f855a; }
        .btn-warning:hover { background: #b7791f; }
        .btn-danger:hover { background: #c53030; }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            padding: 24px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, rgba(24, 144, 255, 0.8), transparent);
            background-size: 200% 100%;
            animation: cardShimmer 3s infinite;
        }

        @keyframes cardShimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .stat-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .stat-label {
            font-size: 13px;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 600;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .stat-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: iconShine 2s infinite;
        }

        @keyframes iconShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
            100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        }

        .stat-value-container {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            line-height: 1;
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 12px;
        }

        .stat-change.positive {
            background: rgba(239, 68, 68, 0.1);
            color: #e53e3e;
        }

        .stat-change.negative {
            background: rgba(56, 161, 105, 0.1);
            color: #38a169;
        }

        .stat-change.neutral {
            background: rgba(113, 128, 150, 0.1);
            color: #718096;
        }

        .stat-bottom {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .stat-subtitle {
            font-size: 12px;
            color: #718096;
            font-weight: 500;
        }

        .stat-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            font-weight: 600;
            color: #4a5568;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: statusPulse 2s infinite;
        }

        .status-dot.active { background: #22c55e; }
        .status-dot.warning { background: #f59e0b; }
        .status-dot.danger { background: #ef4444; }

        @keyframes statusPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        .stat-mini-chart {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .stat-mini-chart-fill {
            height: 100%;
            background: linear-gradient(90deg, #3182ce, #63b3ed);
            animation: chartFill 2s ease-out;
        }

        @keyframes chartFill {
            from { width: 0; }
            to { width: var(--fill-width); }
        }

        .control-section {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        .filter-panel {
            padding: 20px;
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .filter-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .filter-input:focus {
            outline: none;
            border-color: #3182ce;
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
            background: white;
        }

        .filter-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            margin-bottom: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: #3182ce;
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
            background: white;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .filter-tag {
            padding: 6px 12px;
            background: rgba(49, 130, 206, 0.1);
            color: #3182ce;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border: 1px solid rgba(49, 130, 206, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .filter-tag::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.3s ease;
        }

        .filter-tag:hover::before {
            left: 100%;
        }

        .filter-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.2);
        }

        .filter-tag.active {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
            transform: translateY(-1px);
        }

        .filter-tag.active:hover {
            background: linear-gradient(135deg, #2c5282, #2a4b7c);
        }

        .log-stream {
            padding: 20px;
        }

        .stream-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .stream-title {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }

        .stream-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stream-btn {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .log-container {
            max-height: 400px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 8px;
            padding: 12px;
        }

        .log-entry {
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 8px;
            border-left: 4px solid transparent;
            font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            font-size: 13px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .log-entry::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .log-entry:hover::before {
            transform: translateX(100%);
        }

        .log-entry:hover {
            transform: translateX(8px) translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.15);
        }

        .log-info { border-left-color: #3182ce; }
        .log-warn { border-left-color: #d69e2e; }
        .log-error { border-left-color: #e53e3e; }
        .log-debug { border-left-color: #805ad5; }
        .log-success { border-left-color: #38a169; }

        .log-timestamp {
            color: #718096;
            font-size: 10px;
            margin-right: 8px;
        }

        .log-level {
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 9px;
            font-weight: 600;
            text-transform: uppercase;
            margin-right: 8px;
        }

        .level-info { background: rgba(49, 130, 206, 0.2); color: #3182ce; }
        .level-warn { background: rgba(214, 158, 46, 0.2); color: #d69e2e; }
        .level-error { background: rgba(229, 62, 62, 0.2); color: #e53e3e; }
        .level-debug { background: rgba(128, 90, 213, 0.2); color: #805ad5; }
        .level-success { background: rgba(56, 161, 105, 0.2); color: #38a169; }

        .log-message {
            color: #4a5568;
        }

        .analysis-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .chart-panel {
            padding: 20px;
        }

        .panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .panel-title {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }

        .ai-panel {
            padding: 20px;
        }

        .ai-insight {
            padding: 16px;
            margin-bottom: 16px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-left: 4px solid transparent;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .ai-insight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .ai-insight:hover::before {
            transform: translateX(100%);
        }

        .ai-insight:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(0, 0, 0, 0.15);
        }

        .ai-insight.critical { border-left-color: #e53e3e; }
        .ai-insight.warning { border-left-color: #d69e2e; }
        .ai-insight.info { border-left-color: #3182ce; }
        .ai-insight.success { border-left-color: #38a169; }

        .insight-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .insight-title {
            font-size: 14px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .insight-icon {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
        }

        .insight-desc {
            font-size: 13px;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .insight-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 11px;
            color: #718096;
            margin-bottom: 8px;
        }

        .insight-score {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .score-critical {
            background: rgba(239, 68, 68, 0.15);
            color: #c53030;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .score-warning {
            background: rgba(214, 158, 46, 0.15);
            color: #b7791f;
            border: 1px solid rgba(214, 158, 46, 0.3);
        }

        .score-info {
            background: rgba(49, 130, 206, 0.15);
            color: #2c5282;
            border: 1px solid rgba(49, 130, 206, 0.3);
        }

        .score-success {
            background: rgba(56, 161, 105, 0.15);
            color: #2f855a;
            border: 1px solid rgba(56, 161, 105, 0.3);
        }

        .confidence-bar {
            width: 60px;
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-left: 8px;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #38a169, #68d391);
            border-radius: 3px;
            animation: confidenceGrow 1.5s ease-out;
        }

        @keyframes confidenceGrow {
            from { width: 0; }
            to { width: var(--confidence-width); }
        }

        .insight-actions {
            display: flex;
            gap: 8px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .ai-insight:hover .insight-actions {
            opacity: 1;
            transform: translateY(0);
        }

        .insight-btn {
            padding: 4px 8px;
            border: none;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-apply {
            background: linear-gradient(135deg, #38a169, #2f855a);
            color: white;
        }

        .btn-dismiss {
            background: linear-gradient(135deg, #718096, #4a5568);
            color: white;
        }

        .btn-details {
            background: linear-gradient(135deg, #3182ce, #2c5282);
            color: white;
        }

        .insight-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        @media (max-width: 1200px) {
            .control-section {
                grid-template-columns: 1fr;
            }
            
            .analysis-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-10px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .new-log {
            animation: slideIn 0.3s ease;
        }

        .highlight {
            background: rgba(255, 235, 59, 0.2) !important;
            border-left-color: #ffeb3b !important;
            animation: highlightPulse 2s infinite;
        }

        @keyframes highlightPulse {
            0% { background-color: rgba(255, 235, 59, 0.2); }
            50% { background-color: rgba(255, 235, 59, 0.3); }
            100% { background-color: rgba(255, 235, 59, 0.2); }
        }

        .log-entry {
            display: flex !important;
            align-items: flex-start;
            gap: 12px;
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.15);
            border-radius: 0 0 8px 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .suggestion-item {
            padding: 8px 12px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .suggestion-item:hover {
            background: rgba(49, 130, 206, 0.1);
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: #3182ce;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .notification {
            position: fixed;
            top: 80px;
            right: 24px;
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 2000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.info { background: #3182ce; }
        .notification.success { background: #38a169; }
        .notification.warning { background: #d69e2e; }
        .notification.error { background: #e53e3e; }
    </style>
</head>
<body>
    <nav class="top-navbar">
        <div class="logo">
            <i class="fas fa-shield-alt"></i>
            DDosSeek
        </div>
        <div class="user-section">
            <i class="fas fa-bell" style="cursor: pointer; color: #faad14;"></i>
            <div class="user-avatar">A</div>
            <span>管理员</span>
        </div>
    </nav>

    <aside class="sidebar">
        <ul class="sidebar-menu">
            <li><a href="dashboard.html"><i class="fas fa-tachometer-alt"></i>系统仪表盘</a></li>
            <li><a href="network-monitor.html"><i class="fas fa-network-wired"></i>网络监测中心</a></li>
            <li><a href="ddos-detection.html"><i class="fas fa-shield-virus"></i>DDoS检测防护</a></li>
            <li><a href="firewall-management.html"><i class="fas fa-fire-extinguisher"></i>防火墙管理</a></li>
            <li><a href="log-center.html" class="active"><i class="fas fa-file-alt"></i>智能日志中心</a></li>
            <li><a href="deepseek-assistant.html"><i class="fas fa-robot"></i>DeepSeek AI助手</a></li>
            <li><a href="rule-config.html"><i class="fas fa-cogs"></i>规则配置中心</a></li>
            <li><a href="system-test.html"><i class="fas fa-vial"></i>系统测试平台</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <!-- 面包屑导航 -->
        <nav class="breadcrumb" style="margin-bottom: 16px; font-size: 12px; color: #718096;">
            <span><i class="fas fa-home"></i> 首页</span>
            <span style="margin: 0 8px;">/</span>
            <span><a href="dashboard.html" style="color: #718096; text-decoration: none;">系统仪表盘</a></span>
            <span style="margin: 0 8px;">/</span>
            <span style="color: #3182ce; font-weight: 500;">智能日志中心</span>
        </nav>

        <div class="page-header">
            <div class="page-title">
                <i class="fas fa-file-alt"></i>
                智能日志中心
                <div class="log-status">实时采集</div>
            </div>
            <div class="action-controls">
                <button class="action-btn btn-success">
                    <i class="fas fa-play"></i> 开始采集
                </button>
                <button class="action-btn btn-warning">
                    <i class="fas fa-pause"></i> 暂停采集
                </button>
                <button class="action-btn btn-primary">
                    <i class="fas fa-download"></i> 导出日志
                </button>
                <button class="action-btn btn-danger">
                    <i class="fas fa-trash"></i> 清空日志
                </button>
            </div>
        </div>

        <section class="stats-section">
            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">今日日志</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #3182ce, #63b3ed);">
                        <i class="fas fa-file-text"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #3182ce;">24,567</div>
                    <div class="stat-change positive">+8.2%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">条记录</div>
                    <div class="stat-status">
                        <span class="status-dot active"></span>
                        <span>正常</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 78%; background: linear-gradient(90deg, #3182ce, #63b3ed);"></div>
                </div>
            </div>

            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">错误日志</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #e53e3e, #f56565);">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #e53e3e;">156</div>
                    <div class="stat-change positive">+12%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">异常事件</div>
                    <div class="stat-status">
                        <span class="status-dot warning"></span>
                        <span>警告</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 32%; background: linear-gradient(90deg, #e53e3e, #f56565);"></div>
                </div>
            </div>

            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">警告日志</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #d69e2e, #f6ad55);">
                        <i class="fas fa-exclamation"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #d69e2e;">1,248</div>
                    <div class="stat-change neutral">-2.5%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">警告信息</div>
                    <div class="stat-status">
                        <span class="status-dot active"></span>
                        <span>稳定</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 52%; background: linear-gradient(90deg, #d69e2e, #f6ad55);"></div>
                </div>
            </div>

            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">存储使用</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #38a169, #68d391);">
                        <i class="fas fa-database"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #38a169;">2.8GB</div>
                    <div class="stat-change neutral">+0.3%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">已使用 64%</div>
                    <div class="stat-status">
                        <span class="status-dot active"></span>
                        <span>正常</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 64%; background: linear-gradient(90deg, #38a169, #68d391);"></div>
                </div>
            </div>

            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">处理速度</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #805ad5, #b794f6);">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #805ad5;">1,580</div>
                    <div class="stat-change negative">-5.2%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">条/分钟</div>
                    <div class="stat-status">
                        <span class="status-dot active"></span>
                        <span>高效</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 85%; background: linear-gradient(90deg, #805ad5, #b794f6);"></div>
                </div>
            </div>

            <div class="stat-card glass-effect">
                <div class="stat-header">
                    <span class="stat-label">实时连接</span>
                    <div class="stat-icon" style="background: linear-gradient(135deg, #f6ad55, #ed8936);">
                        <i class="fas fa-plug"></i>
                    </div>
                </div>
                <div class="stat-value-container">
                    <div class="stat-value" style="color: #ed8936;">342</div>
                    <div class="stat-change positive">+15%</div>
                </div>
                <div class="stat-bottom">
                    <div class="stat-subtitle">活跃连接</div>
                    <div class="stat-status">
                        <span class="status-dot active"></span>
                        <span>在线</span>
                    </div>
                </div>
                <div class="stat-mini-chart">
                    <div class="stat-mini-chart-fill" style="--fill-width: 68%; background: linear-gradient(90deg, #f6ad55, #ed8936);"></div>
                </div>
            </div>
        </section>

        <section class="control-section">
            <div class="filter-panel glass-effect">
                <div class="panel-header">
                    <div class="panel-title">日志过滤器</div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">关键词搜索</div>
                    <input type="text" class="filter-input" placeholder="输入关键词搜索..." id="searchInput">
                </div>

                <div class="filter-group">
                    <div class="filter-title">日志级别</div>
                    <div class="filter-tags">
                        <div class="filter-tag active" data-level="all">全部</div>
                        <div class="filter-tag" data-level="info">INFO</div>
                        <div class="filter-tag" data-level="warn">WARN</div>
                        <div class="filter-tag" data-level="error">ERROR</div>
                        <div class="filter-tag" data-level="debug">DEBUG</div>
                    </div>
                </div>

                <div class="filter-group">
                    <div class="filter-title">日志来源</div>
                    <select class="filter-select" id="sourceSelect">
                        <option value="all">全部来源</option>
                        <option value="firewall">防火墙系统</option>
                        <option value="ddos">DDoS检测引擎</option>
                        <option value="network">网络监控中心</option>
                        <option value="system">系统核心服务</option>
                        <option value="auth">用户认证服务</option>
                        <option value="database">数据库服务</option>
                        <option value="proxy">代理服务器</option>
                        <option value="vpn">VPN网关</option>
                        <option value="api">API接口</option>
                    </select>
                </div>

                <div class="filter-group">
                    <div class="filter-title">时间范围</div>
                    <select class="filter-select" id="timeRange">
                        <option value="5m">最近5分钟</option>
                        <option value="15m">最近15分钟</option>
                        <option value="1h">最近1小时</option>
                        <option value="6h">最近6小时</option>
                        <option value="24h" selected>最近24小时</option>
                        <option value="7d">最近7天</option>
                        <option value="30d">最近30天</option>
                        <option value="custom">自定义时间</option>
                    </select>
                </div>

                <div class="filter-group">
                    <div class="filter-title">IP地址过滤</div>
                    <input type="text" class="filter-input" placeholder="输入IP地址或网段..." id="ipFilter">
                </div>

                <div class="filter-group">
                    <div class="filter-title">快速过滤</div>
                    <div class="filter-tags">
                        <div class="filter-tag" data-quick="security">安全事件</div>
                        <div class="filter-tag" data-quick="performance">性能问题</div>
                        <div class="filter-tag" data-quick="login">登录相关</div>
                        <div class="filter-tag" data-quick="failed">失败操作</div>
                        <div class="filter-tag" data-quick="database">数据库</div>
                    </div>
                </div>
            </div>

            <div class="log-stream glass-effect">
                <div class="stream-header">
                    <div class="stream-title">实时日志流</div>
                    <div class="stream-controls">
                        <button class="stream-btn btn-success" onclick="toggleAutoScroll()">
                            <i class="fas fa-arrow-down"></i> 自动滚动
                        </button>
                        <button class="stream-btn btn-primary" onclick="clearLogs()">
                            <i class="fas fa-broom"></i> 清空
                        </button>
                    </div>
                </div>
                <div class="log-container" id="logContainer">
                    <div class="log-entry log-info">
                        <span class="log-timestamp">14:35:22.123</span>
                        <span class="log-level level-info">INFO</span>
                        <span class="log-message">[防火墙系统] 允许来自 192.168.1.10:3425 的HTTPS连接请求 → 目标：web-server-01:443 | 用户：john.doe | 会话：sess_7a9b2c3d</span>
                    </div>
                    <div class="log-entry log-warn">
                        <span class="log-timestamp">14:35:20.456</span>
                        <span class="log-level level-warn">WARN</span>
                        <span class="log-message">[DDoS检测引擎] 检测到来自 10.0.0.100 的异常流量模式 | 类型：TCP SYN Flood | 强度：1,250 pps | 威胁评分：7.2/10 | 自动防护：已启动</span>
                    </div>
                    <div class="log-entry log-error">
                        <span class="log-timestamp">14:35:18.789</span>
                        <span class="log-level level-error">ERROR</span>
                        <span class="log-message">[数据库服务] 连接池耗尽：无法建立新的数据库连接 | 活跃连接：50/50 | 等待队列：15 | 重试次数：3/5 | 预计恢复时间：30s</span>
                    </div>
                    <div class="log-entry log-success">
                        <span class="log-timestamp">14:35:16.012</span>
                        <span class="log-level level-success">SUCCESS</span>
                        <span class="log-message">[用户认证服务] 管理员登录成功 | 用户：admin | IP：192.168.1.2 | 浏览器：Chrome 119.0 | 地理位置：北京市 | 多因子认证：已验证</span>
                    </div>
                    <div class="log-entry log-debug">
                        <span class="log-timestamp">14:35:14.345</span>
                        <span class="log-level level-debug">DEBUG</span>
                        <span class="log-message">[网络监控中心] 开始执行网络拓扑扫描任务 | 扫描范围：192.168.0.0/16 | 协议：ICMP+TCP | 超时：5s | 并发度：100</span>
                    </div>
                    <div class="log-entry log-warn">
                        <span class="log-timestamp">14:35:12.678</span>
                        <span class="log-level level-warn">WARN</span>
                        <span class="log-message">[API接口] API调用频率超限 | 客户端：mobile-app-v2.1.3 | IP：203.0.113.45 | 当前速率：1,200 req/min | 限制：1,000 req/min | 已触发限流</span>
                    </div>
                    <div class="log-entry log-info">
                        <span class="log-timestamp">14:35:10.234</span>
                        <span class="log-level level-info">INFO</span>
                        <span class="log-message">[代理服务器] 负载均衡器状态更新 | 上游服务器：app-server-03 | 状态：healthy → unhealthy | 健康检查失败：3/3 | 已从负载池移除</span>
                    </div>
                    <div class="log-entry log-error">
                        <span class="log-timestamp">14:35:08.567</span>
                        <span class="log-level level-error">ERROR</span>
                        <span class="log-message">[VPN网关] SSL VPN连接异常断开 | 用户：remote.worker | 客户端IP：58.87.106.12 | 连接时长：2h 15m | 传输数据：1.2GB | 错误代码：SSL_ERROR_HANDSHAKE_FAILURE</span>
                    </div>
                    <div class="log-entry log-success">
                        <span class="log-timestamp">14:35:06.890</span>
                        <span class="log-level level-success">SUCCESS</span>
                        <span class="log-message">[系统核心服务] 系统备份任务完成 | 备份类型：增量备份 | 数据量：2.8GB | 耗时：45m 12s | 压缩率：78% | 目标：backup-nas-02</span>
                    </div>
                    <div class="log-entry log-debug">
                        <span class="log-timestamp">14:35:04.123</span>
                        <span class="log-level level-debug">DEBUG</span>
                        <span class="log-message">[性能监控] 系统资源使用率统计 | CPU：45.2% | 内存：67.8% | 磁盘I/O：2,456 IOPS | 网络流量：125.6 Mbps | 活跃进程：247</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="analysis-section">
            <div class="chart-panel glass-effect">
                <div class="panel-header">
                    <div class="panel-title">日志趋势分析</div>
                </div>
                <div id="logTrendChart" style="height: 200px; margin-bottom: 20px;"></div>
                <div id="logLevelChart" style="height: 200px;"></div>
            </div>

            <div class="ai-panel glass-effect">
                <div class="panel-header">
                    <div class="panel-title">AI智能分析</div>
                </div>
                <div class="ai-insight critical">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #e53e3e, #f56565);">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            异常检测告警
                        </div>
                        <div class="insight-score score-critical">
                            <i class="fas fa-fire"></i> 高危
                        </div>
                    </div>
                    <div class="insight-desc">检测到来自192.168.1.100的异常访问模式，包括频繁的认证失败和端口扫描行为。过去30分钟内该IP尝试了1,247次不同端口的连接，建议立即采取防护措施。</div>
                    <div class="insight-meta">
                        <span>检测时间：2分钟前</span>
                        <div style="display: flex; align-items: center;">
                            <span>置信度:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 98%;"></div>
                            </div>
                            <span>98%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-apply">立即阻断</button>
                        <button class="insight-btn btn-details">查看详情</button>
                        <button class="insight-btn btn-dismiss">忽略</button>
                    </div>
                </div>

                <div class="ai-insight warning">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #d69e2e, #f6ad55);">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            性能趋势预警
                        </div>
                        <div class="insight-score score-warning">
                            <i class="fas fa-exclamation"></i> 警告
                        </div>
                    </div>
                    <div class="insight-desc">错误日志数量在过去2小时内上升32%，数据库连接超时事件增加156%。系统负载呈现异常上升趋势，可能存在性能瓶颈或资源不足问题。</div>
                    <div class="insight-meta">
                        <span>预测基于：48小时历史数据</span>
                        <div style="display: flex; align-items: center;">
                            <span>置信度:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 85%;"></div>
                            </div>
                            <span>85%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-apply">扩容资源</button>
                        <button class="insight-btn btn-details">性能报告</button>
                        <button class="insight-btn btn-dismiss">稍后处理</button>
                    </div>
                </div>

                <div class="ai-insight info">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #3182ce, #63b3ed);">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            安全策略建议
                        </div>
                        <div class="insight-score score-info">
                            <i class="fas fa-lightbulb"></i> 建议
                        </div>
                    </div>
                    <div class="insight-desc">分析发现当前防护策略对API接口的保护力度不足，建议启用智能频率限制和IP白名单机制。这将有效减少恶意访问尝试和API滥用。</div>
                    <div class="insight-meta">
                        <span>基于：7天安全事件分析</span>
                        <div style="display: flex; align-items: center;">
                            <span>置信度:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 92%;"></div>
                            </div>
                            <span>92%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-apply">启用策略</button>
                        <button class="insight-btn btn-details">安全报告</button>
                        <button class="insight-btn btn-dismiss">暂不执行</button>
                    </div>
                </div>

                <div class="ai-insight warning">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #805ad5, #b794f6);">
                                <i class="fas fa-database"></i>
                            </div>
                            存储容量优化
                        </div>
                        <div class="insight-score score-warning">
                            <i class="fas fa-hdd"></i> 警告
                        </div>
                    </div>
                    <div class="insight-desc">日志存储即将达到容量上限（当前使用率86%），预计在未来72小时内将达到临界值。建议启用自动归档策略并清理30天以上的日志数据。</div>
                    <div class="insight-meta">
                        <span>存储增长率：12GB/天</span>
                        <div style="display: flex; align-items: center;">
                            <span>置信度:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 96%;"></div>
                            </div>
                            <span>96%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-apply">清理归档</button>
                        <button class="insight-btn btn-details">存储详情</button>
                        <button class="insight-btn btn-dismiss">监控状态</button>
                    </div>
                </div>

                <div class="ai-insight success">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #38a169, #68d391);">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            系统健康状态
                        </div>
                        <div class="insight-score score-success">
                            <i class="fas fa-heart"></i> 良好
                        </div>
                    </div>
                    <div class="insight-desc">当前所有核心服务运行正常，网络连接稳定，防护系统功能完备。系统整体健康度评分为A+，各项关键指标均在正常范围内。</div>
                    <div class="insight-meta">
                        <span>最后检查：1分钟前</span>
                        <div style="display: flex; align-items: center;">
                            <span>健康度:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 100%;"></div>
                            </div>
                            <span>100%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-details">健康报告</button>
                        <button class="insight-btn btn-apply">优化建议</button>
                    </div>
                </div>

                <div class="ai-insight info">
                    <div class="insight-header">
                        <div class="insight-title">
                            <div class="insight-icon" style="background: linear-gradient(135deg, #f6ad55, #ed8936);">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            日志模式分析
                        </div>
                        <div class="insight-score score-info">
                            <i class="fas fa-analytics"></i> 洞察
                        </div>
                    </div>
                    <div class="insight-desc">通过机器学习算法分析发现，周五下午2-4点是系统访问高峰期，错误率比平时高出25%。建议在此时段增加监控频率和响应准备。</div>
                    <div class="insight-meta">
                        <span>分析样本：30天数据</span>
                        <div style="display: flex; align-items: center;">
                            <span>准确性:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="--confidence-width: 89%;"></div>
                            </div>
                            <span>89%</span>
                        </div>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn btn-apply">调整策略</button>
                        <button class="insight-btn btn-details">模式报告</button>
                        <button class="insight-btn btn-dismiss">记录备忘</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        let autoScroll = true;
        let logContainer = document.getElementById('logContainer');

        // 日志趋势图表
        const logTrendChart = echarts.init(document.getElementById('logTrendChart'));
        const trendOption = {
            backgroundColor: 'transparent',
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                top: '10%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00'],
                axisLine: { lineStyle: { color: 'rgba(0,0,0,0.3)' }},
                axisLabel: { color: '#4a5568', fontSize: 10 }
            },
            yAxis: {
                type: 'value',
                axisLine: { lineStyle: { color: 'rgba(0,0,0,0.3)' }},
                axisLabel: { color: '#4a5568', fontSize: 10 },
                splitLine: { lineStyle: { color: 'rgba(0,0,0,0.1)' }}
            },
            series: [
                {
                    name: 'INFO',
                    type: 'line',
                    data: [1200, 1350, 1100, 1400, 1600, 1200, 1800, 1500, 1300],
                    smooth: true,
                    lineStyle: { color: '#3182ce', width: 2 },
                    areaStyle: { color: 'rgba(49,130,206,0.1)' }
                },
                {
                    name: 'WARN',
                    type: 'line',
                    data: [150, 200, 180, 250, 300, 180, 350, 280, 220],
                    smooth: true,
                    lineStyle: { color: '#d69e2e', width: 2 },
                    areaStyle: { color: 'rgba(214,158,46,0.1)' }
                },
                {
                    name: 'ERROR',
                    type: 'line',
                    data: [20, 35, 25, 45, 60, 30, 80, 55, 40],
                    smooth: true,
                    lineStyle: { color: '#e53e3e', width: 2 },
                    areaStyle: { color: 'rgba(229,62,62,0.1)' }
                }
            ]
        };
        logTrendChart.setOption(trendOption);

        // 日志级别分布图表
        const logLevelChart = echarts.init(document.getElementById('logLevelChart'));
        const levelOption = {
            backgroundColor: 'transparent',
            legend: {
                bottom: '5%',
                left: 'center',
                textStyle: { color: '#4a5568', fontSize: 10 }
            },
            series: [
                {
                    type: 'pie',
                    radius: ['40%', '70%'],
                    center: ['50%', '40%'],
                    data: [
                        { value: 18500, name: 'INFO', itemStyle: { color: '#3182ce' }},
                        { value: 4200, name: 'WARN', itemStyle: { color: '#d69e2e' }},
                        { value: 1200, name: 'ERROR', itemStyle: { color: '#e53e3e' }},
                        { value: 500, name: 'DEBUG', itemStyle: { color: '#805ad5' }},
                        { value: 167, name: 'SUCCESS', itemStyle: { color: '#38a169' }}
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.3)'
                        }
                    },
                    label: {
                        color: '#4a5568',
                        fontSize: 10
                    }
                }
            ]
        };
        logLevelChart.setOption(levelOption);

        // 响应式图表调整
        window.addEventListener('resize', function() {
            logTrendChart.resize();
            logLevelChart.resize();
        });

        // 过滤标签切换
        document.querySelectorAll('.filter-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                document.querySelectorAll('.filter-tag').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // 自动滚动控制
        function toggleAutoScroll() {
            autoScroll = !autoScroll;
            const btn = event.target.closest('.stream-btn');
            if (autoScroll) {
                btn.innerHTML = '<i class="fas fa-arrow-down"></i> 自动滚动';
                btn.className = 'stream-btn btn-success';
            } else {
                btn.innerHTML = '<i class="fas fa-pause"></i> 已暂停';
                btn.className = 'stream-btn btn-warning';
            }
        }

        // 清空日志
        function clearLogs() {
            if (confirm('确定要清空当前日志显示吗？')) {
                logContainer.innerHTML = '';
            }
        }

        // 生成随机日志条目
        function generateLogEntry() {
            const levels = ['info', 'warn', 'error', 'debug', 'success'];
            const levelClasses = ['level-info', 'level-warn', 'level-error', 'level-debug', 'level-success'];
            const sources = ['防火墙系统', 'DDoS检测引擎', '网络监控中心', '系统核心服务', '用户认证服务', '数据库服务', '代理服务器', 'VPN网关', 'API接口', '性能监控'];
            
            const detailedMessages = [
                {
                    level: 'info',
                    messages: [
                        '允许来自 192.168.{}.{} 的HTTPS连接请求 → 目标：web-server-0{}:443 | 用户：{} | 会话：sess_{}',
                        '负载均衡器状态更新 | 上游服务器：app-server-0{} | 状态：healthy | 健康检查通过：3/3 | 响应时间：{}ms',
                        '缓存命中率统计 | 命中率：{}% | 缓存大小：{}MB | 清理过期项：{} 个',
                        'SSL证书自动续期成功 | 域名：*.{}.com | 有效期：365天 | 签发机构：Let\'s Encrypt'
                    ]
                },
                {
                    level: 'warn',
                    messages: [
                        'API调用频率接近限制 | 客户端：mobile-app-v{} | IP：{} | 当前速率：{} req/min | 限制：1,000 req/min',
                        '磁盘空间使用率偏高 | 分区：/var/log | 使用率：{}% | 剩余空间：{}GB | 建议清理',
                        '数据库连接池压力增大 | 活跃连接：{}/50 | 等待队列：{} | 平均等待时间：{}ms',
                        '内存使用率持续上升 | 当前使用：{}% | 可用内存：{}GB | 建议优化或扩容'
                    ]
                },
                {
                    level: 'error',
                    messages: [
                        '数据库连接失败 | 主机：db-master-0{} | 错误：connection timeout | 重试次数：{}/5 | 预计恢复：{}s',
                        'VPN连接异常断开 | 用户：{} | 客户端IP：{} | 连接时长：{}h {}m | 错误代码：{}',
                        '认证服务响应超时 | 请求ID：{} | 用户：{} | 超时时间：{}ms | 影响用户：{} 人',
                        '文件系统错误 | 路径：/data/logs | 错误类型：disk full | 使用率：100% | 紧急清理中'
                    ]
                },
                {
                    level: 'success',
                    messages: [
                        '系统备份完成 | 备份类型：增量备份 | 数据量：{}GB | 耗时：{}m {}s | 压缩率：{}% | 目标：backup-nas-0{}',
                        '安全扫描完成 | 扫描对象：{} 个服务 | 发现漏洞：0 个 | 安全评分：A+ | 扫描时间：{}m',
                        '负载均衡调整完成 | 流量分配优化 | 响应时间改善：{}% | 吞吐量提升：{}% | 错误率降低：{}%',
                        '证书部署成功 | 服务：{} | 新证书有效期：365天 | 自动续期：已启用 | 影响域名：{} 个'
                    ]
                },
                {
                    level: 'debug',
                    messages: [
                        '系统资源监控 | CPU：{}% | 内存：{}% | 磁盘I/O：{} IOPS | 网络：{} Mbps | 进程：{}',
                        '缓存预热任务 | 预热项目：{} 个 | 完成率：{}% | 命中率提升：{}% | 预计完成：{}min',
                        '网络拓扑扫描 | 扫描范围：192.168.0.0/16 | 发现设备：{} 台 | 活跃主机：{} 台 | 响应时间：{}ms',
                        '算法优化测试 | 算法：机器学习模型v{} | 准确率：{}% | 处理速度提升：{}% | 内存优化：{}%'
                    ]
                }
            ];

            const level = levels[Math.floor(Math.random() * levels.length)];
            const levelClass = levelClasses[levels.indexOf(level)];
            const source = sources[Math.floor(Math.random() * sources.length)];
            
            const levelMessages = detailedMessages.find(l => l.level === level);
            const messageTemplate = levelMessages.messages[Math.floor(Math.random() * levelMessages.messages.length)];
            
            // 生成随机占位符替换
            const usernames = ['admin', 'john.doe', 'alice.smith', 'bob.wilson', 'mary.johnson', 'remote.worker'];
            const domains = ['example', 'company', 'secure', 'network'];
            const sessionId = Math.random().toString(36).substring(2, 10);
            
            const message = messageTemplate
                .replace(/{}/g, () => Math.floor(Math.random() * 200 + 10))
                .replace(/\{user\}/g, usernames[Math.floor(Math.random() * usernames.length)])
                .replace(/\{domain\}/g, domains[Math.floor(Math.random() * domains.length)])
                .replace(/\{session\}/g, sessionId);

            const timestamp = new Date().toLocaleTimeString('zh-CN', { 
                hour12: false, 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            }) + '.' + Math.floor(Math.random() * 1000).toString().padStart(3, '0');

            return {
                level,
                levelClass,
                source,
                message,
                timestamp,
                logClass: `log-${level}`
            };
        }

        // 添加新日志条目
        function addLogEntry() {
            const log = generateLogEntry();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${log.logClass} new-log`;
            logEntry.innerHTML = `
                <span class="log-timestamp">${log.timestamp}</span>
                <span class="log-level ${log.levelClass}">${log.level.toUpperCase()}</span>
                <span class="log-message">[${log.source}] ${log.message}</span>
            `;

            logContainer.insertBefore(logEntry, logContainer.firstChild);

            // 限制显示的日志条数
            if (logContainer.children.length > 50) {
                logContainer.removeChild(logContainer.lastChild);
            }

            // 自动滚动到最新日志
            if (autoScroll) {
                logContainer.scrollTop = 0;
            }

            // 移除新日志动画类
            setTimeout(() => {
                logEntry.classList.remove('new-log');
            }, 300);
        }

        // 更新统计数据
        function updateStats() {
            const statValues = document.querySelectorAll('.stat-value');
            const statChanges = document.querySelectorAll('.stat-change');
            
            // 更新数值和变化趋势
            const newValues = [
                Math.floor(Math.random() * 5000 + 20000), // 今日日志
                Math.floor(Math.random() * 50 + 100),     // 错误日志
                Math.floor(Math.random() * 200 + 1000),   // 警告日志
                (Math.random() * 1.5 + 2.5).toFixed(1),  // 存储使用
                Math.floor(Math.random() * 500 + 1200),   // 处理速度
                Math.floor(Math.random() * 100 + 300)     // 实时连接
            ];
            
            const changes = [
                { value: (Math.random() * 15 + 2).toFixed(1), type: Math.random() > 0.3 ? 'positive' : 'negative' },
                { value: (Math.random() * 20 + 5).toFixed(1), type: Math.random() > 0.6 ? 'positive' : 'negative' },
                { value: (Math.random() * 10 + 1).toFixed(1), type: Math.random() > 0.5 ? 'neutral' : 'negative' },
                { value: (Math.random() * 2 + 0.1).toFixed(1), type: 'neutral' },
                { value: (Math.random() * 8 + 2).toFixed(1), type: Math.random() > 0.4 ? 'negative' : 'positive' },
                { value: (Math.random() * 25 + 5).toFixed(1), type: Math.random() > 0.5 ? 'positive' : 'negative' }
            ];
            
            statValues.forEach((stat, index) => {
                if (index < newValues.length) {
                    const value = newValues[index];
                    if (index === 3) {
                        stat.textContent = value + 'GB';
                    } else {
                        stat.textContent = typeof value === 'number' ? value.toLocaleString() : value;
                    }
                }
            });
            
            statChanges.forEach((change, index) => {
                if (index < changes.length) {
                    const changeData = changes[index];
                    change.className = `stat-change ${changeData.type}`;
                    const prefix = changeData.type === 'positive' ? '+' : changeData.type === 'negative' ? '-' : '';
                    change.innerHTML = `<i class="fas fa-${changeData.type === 'positive' ? 'arrow-up' : changeData.type === 'negative' ? 'arrow-down' : 'minus'}"></i> ${prefix}${changeData.value}%`;
                }
            });

            // 更新状态点
            const statusDots = document.querySelectorAll('.status-dot');
            statusDots.forEach((dot, index) => {
                const statuses = ['active', 'warning', 'danger'];
                const weights = [0.7, 0.2, 0.1]; // 70% active, 20% warning, 10% danger
                const random = Math.random();
                let selectedStatus = 'active';
                
                if (random < weights[2]) {
                    selectedStatus = 'danger';
                } else if (random < weights[1] + weights[2]) {
                    selectedStatus = 'warning';
                }
                
                dot.className = `status-dot ${selectedStatus}`;
            });

            // 更新图表数据
            const hours = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00'];
            const newTrendData = [
                Array.from({length: 9}, () => Math.floor(Math.random() * 800 + 800)),   // INFO
                Array.from({length: 9}, () => Math.floor(Math.random() * 300 + 100)),   // WARN
                Array.from({length: 9}, () => Math.floor(Math.random() * 100 + 20)),    // ERROR
                Array.from({length: 9}, () => Math.floor(Math.random() * 200 + 50)),    // DEBUG
                Array.from({length: 9}, () => Math.floor(Math.random() * 150 + 30))     // SUCCESS
            ];
            
            logTrendChart.setOption({
                xAxis: { data: hours },
                series: [
                    { data: newTrendData[0] },
                    { data: newTrendData[1] },
                    { data: newTrendData[2] },
                    {
                        name: 'DEBUG',
                        type: 'line',
                        data: newTrendData[3],
                        smooth: true,
                        lineStyle: { color: '#805ad5', width: 2 },
                        areaStyle: { color: 'rgba(128,90,213,0.1)' }
                    },
                    {
                        name: 'SUCCESS',
                        type: 'line',
                        data: newTrendData[4],
                        smooth: true,
                        lineStyle: { color: '#38a169', width: 2 },
                        areaStyle: { color: 'rgba(56,161,105,0.1)' }
                    }
                ]
            });

            // 更新饼图数据
            const newPieData = [
                { value: Math.floor(Math.random() * 5000 + 15000), name: 'INFO', itemStyle: { color: '#3182ce' }},
                { value: Math.floor(Math.random() * 2000 + 3000), name: 'WARN', itemStyle: { color: '#d69e2e' }},
                { value: Math.floor(Math.random() * 800 + 800), name: 'ERROR', itemStyle: { color: '#e53e3e' }},
                { value: Math.floor(Math.random() * 1000 + 400), name: 'DEBUG', itemStyle: { color: '#805ad5' }},
                { value: Math.floor(Math.random() * 500 + 100), name: 'SUCCESS', itemStyle: { color: '#38a169' }}
            ];
            
            logLevelChart.setOption({
                series: [{ data: newPieData }]
            });
        }

        // 模拟系统状态变化
        function simulateSystemEvents() {
            const events = [
                () => showNotification('检测到新的安全威胁', 'warning'),
                () => showNotification('系统性能优化完成', 'success'),
                () => showNotification('备份任务已开始', 'info'),
                () => showNotification('发现异常登录尝试', 'error')
            ];
            
            const randomEvent = events[Math.floor(Math.random() * events.length)];
            randomEvent();
        }

        // 显示通知
        function showNotification(message, type) {
            // 这里可以添加通知显示逻辑
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        // AI洞察更新
        function updateAIInsights() {
            const insights = document.querySelectorAll('.ai-insight');
            insights.forEach((insight, index) => {
                const confidenceBars = insight.querySelectorAll('.confidence-fill');
                confidenceBars.forEach(bar => {
                    const newWidth = Math.floor(Math.random() * 30 + 70) + '%';
                    bar.style.setProperty('--confidence-width', newWidth);
                });
            });
        }

        // 增强的搜索功能
        function enhancedSearch() {
            const searchInput = document.getElementById('searchInput');
            const ipFilter = document.getElementById('ipFilter');
            
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const logEntries = document.querySelectorAll('.log-entry');
                
                logEntries.forEach(entry => {
                    const message = entry.querySelector('.log-message').textContent.toLowerCase();
                    if (message.includes(searchTerm) || searchTerm === '') {
                        entry.style.display = 'flex';
                    } else {
                        entry.style.display = 'none';
                    }
                });
            });

            ipFilter.addEventListener('input', function() {
                const ipTerm = this.value;
                const logEntries = document.querySelectorAll('.log-entry');
                
                logEntries.forEach(entry => {
                    const message = entry.querySelector('.log-message').textContent;
                    if (message.includes(ipTerm) || ipTerm === '') {
                        entry.style.display = 'flex';
                    } else {
                        entry.style.display = 'none';
                    }
                });
            });
        }

        // 快速过滤功能
        function setupQuickFilters() {
            const quickFilters = document.querySelectorAll('[data-quick]');
            quickFilters.forEach(filter => {
                filter.addEventListener('click', function() {
                    const filterType = this.getAttribute('data-quick');
                    const logEntries = document.querySelectorAll('.log-entry');
                    
                    // 切换激活状态
                    quickFilters.forEach(f => f.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filterMap = {
                        'security': ['认证', '登录', '防火墙', 'VPN', '安全'],
                        'performance': ['性能', 'CPU', '内存', '磁盘', 'I/O'],
                        'login': ['登录', '认证', '用户', 'admin'],
                        'failed': ['失败', '错误', 'ERROR', '异常', '超时'],
                        'database': ['数据库', '连接池', 'MySQL', 'Redis']
                    };
                    
                    const keywords = filterMap[filterType] || [];
                    
                    logEntries.forEach(entry => {
                        const message = entry.querySelector('.log-message').textContent;
                        const matchesFilter = keywords.some(keyword => message.includes(keyword));
                        
                        if (matchesFilter) {
                            entry.style.display = 'flex';
                            entry.classList.add('highlight');
                        } else {
                            entry.style.display = 'none';
                            entry.classList.remove('highlight');
                        }
                    });
                });
            });
        }

        // 卡片点击效果
        function setupCardInteractions() {
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach(card => {
                card.addEventListener('click', function() {
                    // 添加点击动画
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });

            const aiInsights = document.querySelectorAll('.ai-insight');
            aiInsights.forEach(insight => {
                const buttons = insight.querySelectorAll('.insight-btn');
                buttons.forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const action = this.textContent.trim();
                        showNotification(`执行操作：${action}`, 'info');
                    });
                });
            });
        }

        // 定时更新
        setInterval(addLogEntry, 1800);           // 更频繁的日志更新
        setInterval(updateStats, 8000);           // 统计数据更新
        setInterval(simulateSystemEvents, 15000); // 系统事件模拟
        setInterval(updateAIInsights, 12000);     // AI洞察更新

        // 初始化
        updateStats();
        enhancedSearch();
        setupQuickFilters();
        setupCardInteractions();

        // 页面加载完成后的启动动画
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.stat-card, .ai-insight');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.animation = 'slideIn 0.5s ease-out forwards';
                }, index * 100);
            });
        });

        // 初始化路由管理器
        const router = new DDosSeekRouter('log-center');
    </script>
    <script src="router.js"></script>
</body>
</html> 